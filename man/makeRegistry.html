<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Construct a registry object.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script src="http://yandex.st/highlightjs/7.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for makeRegistry {BatchJobs}"><tr><td>makeRegistry {BatchJobs}</td><td align="right">R Documentation</td></tr></table>

<h2>Construct a registry object.</h2>

<h3>Description</h3>

<p>Note that if you don't want links in your paths
(<code>file.dir</code>, <code>work.dir</code>) to get resolved and
have complete control over the way the path is used
internally, pass an absolute path which begins with
&ldquo;/&rdquo;.
</p>


<h3>Usage</h3>

<pre>
  makeRegistry(id, file.dir, sharding = TRUE, work.dir,
    multiple.result.files = FALSE, seed,
    packages = character(0L), src.dirs = character(0L),
    skip = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>id</code></td>
<td>
<p>[<code>character(1)</code>]<br> Name of registry.
Displayed e.g. in mails or in cluster queue.</p>
</td></tr>
<tr valign="top"><td><code>file.dir</code></td>
<td>
<p>[<code>character(1)</code>]<br> Path where files
regarding the registry / jobs should be saved.  Default
is &ldquo;&lt;id&gt;-files&rdquo; in current working directory if
<code>id</code> is set.</p>
</td></tr>
<tr valign="top"><td><code>sharding</code></td>
<td>
<p>[<code>logical(1)</code>]<br> Enable sharding to
distribute result files into different subdirectories?
Important if you have many experiments.  Default is
<code>TRUE</code>.</p>
</td></tr>
<tr valign="top"><td><code>work.dir</code></td>
<td>
<p>[<code>character(1)</code>]<br> Working
directory for R process when experiment is executed.
Default is the current working directory when registry is
created.</p>
</td></tr>
<tr valign="top"><td><code>multiple.result.files</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
Should a result file be generated for every list element
of the returned list of the job function?  Note that the
function provided to <code><a href="batchMap.html">batchMap</a></code> or
<code><a href="batchReduce.html">batchReduce</a></code> must return a named list if
this is set to <code>TRUE</code>.  The result file will be
named &ldquo;&lt;id&gt;-result-&lt;element name&gt;.RData&rdquo; instead
of &ldquo;&lt;id&gt;-result.RData&rdquo;.  Default is <code>FALSE</code>.</p>
</td></tr>
<tr valign="top"><td><code>seed</code></td>
<td>
<p>[<code>integer(1)</code>]<br> Start seed for
experiments. The first experiment in the registry will
use this seed, for the subsequent ones the seed is
incremented by 1.  Default is a random number from 1 to
<code>.Machine$integer.max/2</code>.</p>
</td></tr>
<tr valign="top"><td><code>packages</code></td>
<td>
<p>[<code>character</code>]<br> Packages that will
always be loaded on each node.  Default is
<code>character(0)</code>.</p>
</td></tr>
<tr valign="top"><td><code>src.dirs</code></td>
<td>
<p>[<code>character</code>]<br> Directories
relative to your <code>work.dir</code> containing R scripts to
be sourced on registry load (both on slave and master).
Files not matching the pattern &ldquo;\.[Rr]$&rdquo; are
ignored.  Useful if you have many helper functions that
are needed during the execution of your jobs.  These
files should only contain function definitions and no
executable code.  Default is <code>character(0)</code>.</p>
</td></tr>
<tr valign="top"><td><code>skip</code></td>
<td>
<p>[<code>logical(1)</code>]<br> Skip creation of a new
registry if a registry is found in <code>file.dir</code>.
Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Every object is a list that contains the passed arguments
of the constructor.
</p>


<h3>Value</h3>

<p>[<code><a href="makeRegistry.html">Registry</a></code>]
</p>


<h3>Examples</h3>

<pre><code class="r">
reg &lt;- makeRegistry(id=&quot;BatchJobsExample&quot;, file.dir=tempfile(), seed=123)
</code></pre>

<pre><code>## Creating dir: /tmp/user/1000/Rtmp6kubH8/file63d744bda77c
## Saving registry: /tmp/user/1000/Rtmp6kubH8/file63d744bda77c/registry.RData
</code></pre>

<pre><code class="r">print(reg)
</code></pre>

<pre><code>## Job registry:  BatchJobsExample 
##   Number of jobs:  0 
##   Files dir: /tmp/user/1000/Rtmp6kubH8/file63d744bda77c 
##   Work dir: /tmp/pkgdocs 
##   Multiple result files: FALSE 
##   Seed: 123 
##   Required packages: BatchJobs
</code></pre>

<pre><code class="r">
</code></pre>


<hr><div align="center">[Package <em>BatchJobs</em> version 1.2 <a href="00Index.html">Index</a>]</div>
</body></html>
